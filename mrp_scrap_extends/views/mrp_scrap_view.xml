<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <!-- mrp.production inherit form view -->
        <record id="stock_scrap_form_view_extend" model="ir.ui.view">
            <field name="name">stock.scrap.form.extend</field>
            <field name="model">stock.scrap</field>
            <field name="inherit_id" ref="stock.stock_scrap_form_view2"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@class='o_row']" position="after">
                    <field name="is_reprocess" invisible="1"/>
                    <field name="product_reprocess_id" options="{'no_create': True}" attrs="{'invisible': [('is_reprocess', '=', False)], 'required':[('is_reprocess', '=', True)]}"/>
                    <label for="reprocess_qty" attrs="{'invisible': [('is_reprocess', '=', False)], 'required':[('is_reprocess', '=', True)]}"/>
                    <div class="o_row">
                        <field name="reprocess_qty" attrs="{'invisible': [('is_reprocess', '=', False)], 'required':[('is_reprocess', '=', True)]}"/>
                        <field name="product_reprocess_uom_category_id" invisible="1"/>
                        <field name="product_reprocess_uom_id" groups="uom.group_uom" force_save="1"  attrs="{'invisible': [('is_reprocess', '=', False)], 'required':[('is_reprocess', '=', True)]}"/>
                    </div>
                </xpath>
                <field name="scrap_location_id" position="after">
                    <field name="reprocess_location_id"  string="Ubicacion reproceso" attrs="{'invisible': [('is_reprocess', '=', False)], 'required':[('is_reprocess', '=', True)]}"/>
                </field>
            </field>
        </record>
    </data>
</odoo>